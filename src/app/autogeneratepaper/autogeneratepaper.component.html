<main id="loade" class=" relative nzspin dark:nzspin">
    <nz-spin *ngIf="loader" class="top-1/2 z-50 left-1/2 absolute transform -translate-x-1/2 -translate-y-1/2"
        [nzSize]="'large'" nzSimple></nz-spin>
    <div
        class=" bg-gray-300 dark:bg-gray-900  dark:text-white min-h-[calc(100vh-80px)] text-gray-900 flex items-center justify-center">
        <div class="w-full max-w-md md:max-w-5xl  px-3">
            <form [formGroup]="form" (ngSubmit)="onSubmit()"
                class="bg-gray-200 my-3 dark:bg-gray-800 p-6 rounded-lg shadow-lg space-y-4">
                <h2 class="text-2xl w-full font-sans text-center font-bold dark:text-gray-200 text-gray-900">Generate
                    Paper</h2>
                <div class="w-full md:flex md:space-x-4 space-y-4 md:space-y-0">
                    <div class="w-full">
                        <label for="classname" class="block mb-1">Class Name</label>
                        <nz-select class="w-full ngselectbn bookselected dark:bookselected"
                            (ngModelChange)="getbooks($event)" [nzSize]="inputsize" id="classname" nzShowSearch
                            nzAllowClear nzPlaceHolder="Select Class Name" formControlName="classname">
                            <div *ngFor="let class of classes">
                                <nz-option nzLabel={{class.classname}} nzValue={{class.uid}}></nz-option>
                            </div>
                        </nz-select>
                    </div>
                    <div class="w-full">
                        <label for="bookname" class="block mb-1">Book Name</label>
                        <nz-select class="w-full ngselectbn bookselected dark:bookselected"
                            (ngModelChange)="getchapters($event)" [nzSize]="inputsize" id="bookname" nzShowSearch
                            nzAllowClear nzPlaceHolder="Select Book" formControlName="bookname">
                            <div *ngFor="let Book of Books">
                                <nz-option nzLabel={{Book.book_name}} nzValue={{Book.uid}}></nz-option>
                            </div>
                        </nz-select>
                    </div>
                    <div class="w-full">
                        <label for="testtype" class="block mb-1">Test Type</label>
                        <nz-select (ngModelChange)="getschemas($event)"
                            class="w-full ngselectbn bookselected dark:bookselected" [nzSize]="inputsize" id="testtype"
                            nzShowSearch nzAllowClear nzPlaceHolder="Select Chapter" formControlName="testtype">
                            <nz-option nzLabel='Full Book' nzValue='Full Book'></nz-option>
                            <nz-option nzLabel='Select Chapter' nzValue='Select Chapter'></nz-option>
                        </nz-select>
                    </div>
                </div>
                <div class="w-full md:flex md:space-x-4 space-y-4 md:space-y-0">
                    <div *ngIf="form.value?.testtype === 'Select Chapter'" class="w-full">
                        <label for="chapternames" class="block mb-1">Chapter</label>
                        <nz-select (ngModelChange)="getSchemasWithChapters($event)"
                            class="w-full ngselectbn dark:multiselect bookselected dark:bookselected"
                            [nzSize]="inputsize" id="chapternames" nzMode="multiple" nzShowSearch nzAllowClear
                            nzPlaceHolder="Select Chapter" formControlName="chapternames">
                            <nz-option *ngFor="let Chapter of Chapters" [nzLabel]="Chapter.title"
                                [nzValue]="Chapter.uid">
                            </nz-option>
                        </nz-select>
                    </div>
                    <div class="w-full">
                        <label for="schemaname" class="block mb-1">Schema</label>
                        <nz-select class="w-full ngselectbn bookselected dark:bookselected" [nzSize]="inputsize"
                            id="schemaname" nzShowSearch nzAllowClear nzPlaceHolder="Select Chapter"
                            formControlName="schemaname">
                            <nz-option *ngFor="let s of schemas" [nzLabel]='s.schemaname' [nzValue]='s.uid'></nz-option>
                        </nz-select>
                    </div>
                </div>
                <div class="mb-4 w-full">
                    <label for="papername" class="block text-gray-700 dark:text-gray-300 font-medium mb-2">Paper
                        Name</label>
                    <textarea nz-input id="papername" formControlName="papername" rows="2"
                        placeholder="Enter Schema Name"
                        class="w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-3 py-2 rounded-md !border-0 !shadow-none"></textarea>
                </div>
                <div class="w-full grid place-items-center">
                    <button type="submit"
                        class="w-32 text-gray-200 p-2 rounded bg-gray-800 dark:bg-gray-950 dark:hover:text-gray-950 hover:bg-gray-900 dark:hover:bg-[#ffff00] focus:outline-none  ">Generate
                        Paper</button>
                </div>
            </form>
        </div>
    </div>

</main>